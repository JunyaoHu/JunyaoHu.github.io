

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="胡椒">
  <meta name="keywords" content="">
  <meta name="description" content="学习选择 基础：先看的这个，基础操作，用的idle，有些跳了步骤，可能东西比较老（requests、解析（beautiful）、Re、Scrapy）Python数据分析与展示，北京理工大学，中国大学MOOC(慕课) (icourse163.org) 进阶：建议不如直接看这个，讲得更细节，用的pycharm，东北老师，讲课老精神了（直接看p51-104，对于基础，补充了Urllib、解析（xpat">
<meta property="og:type" content="article">
<meta property="og:title" content="Python网络爬虫">
<meta property="og:url" content="http://example.com/2022/02/06/%E3%80%8APython%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E4%B8%8E%E4%BF%A1%E6%81%AF%E6%8F%90%E5%8F%96%E3%80%8B%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="胡椒的 Coding Room">
<meta property="og:description" content="学习选择 基础：先看的这个，基础操作，用的idle，有些跳了步骤，可能东西比较老（requests、解析（beautiful）、Re、Scrapy）Python数据分析与展示，北京理工大学，中国大学MOOC(慕课) (icourse163.org) 进阶：建议不如直接看这个，讲得更细节，用的pycharm，东北老师，讲课老精神了（直接看p51-104，对于基础，补充了Urllib、解析（xpat">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://r6x04xz01.hd-bkt.clouddn.com/image-20220208160917249.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/y4Jae2OriWfUgDK.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/XaKJYEPZCgIF7qR.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/nldsfZD1eJ8hcHK.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/6VxtmPieTaAk3N4.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/yS4AEgRn5IFNmhC.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/Yr1KXAeq7HjnpSW.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/bV8Iwk7qiHZMKvR.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/yQjRklAz4Sq8GVU.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/Kkmhg8qZSUITBGQ.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/K5LNoJG2VsDctzB.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/hfmyXuoV5dTLl8Q.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/JtE7syTib1vWk6P.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/b8H5g6Lv7VCXxGn.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/5CEwfnGBL73dSpc.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/inYpyLteGKQoIBR.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/I9y6UAKVsu5BCZo.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/FKyVemjPzCSbTO7.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/RGWbYF29I8Ljkqf.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/4Rapl59VjyGEFUh.png">
<meta property="og:image" content="https://s2.loli.net/2022/02/06/Ob9xqz2kFimZGRL.png">
<meta property="og:image" content="http://r6x04xz01.hd-bkt.clouddn.com/image-20220207162133107.png">
<meta property="og:image" content="http://r6x04xz01.hd-bkt.clouddn.com/image-20220207162218001.png">
<meta property="og:image" content="http://r6x04xz01.hd-bkt.clouddn.com/image-20220207165234066.png">
<meta property="og:image" content="http://r6x04xz01.hd-bkt.clouddn.com/image-20220207165852697.png">
<meta property="og:image" content="http://r6x04xz01.hd-bkt.clouddn.com/image-20220209014418171.png">
<meta property="article:published_time" content="2022-02-06T12:00:00.000Z">
<meta property="article:modified_time" content="2022-02-26T07:13:37.395Z">
<meta property="article:author" content="胡椒">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="爬虫">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://r6x04xz01.hd-bkt.clouddn.com/image-20220208160917249.png">
  
  <title>Python网络爬虫 - 胡椒的 Coding Room</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":17340920,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>胡椒的 Coding Room</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/cv/">
                <i class="iconfont icon-note"></i>
                CV
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.1)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Python网络爬虫">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-02-06 20:00" pubdate>
        2022年2月6日 晚上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      14k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      45 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Python网络爬虫</h1>
            
            <div class="markdown-body">
              <blockquote>
<p>学习选择</p>
<p>基础：先看的这个，基础操作，用的idle，有些跳了步骤，可能东西比较老（requests、解析（beautiful）、Re、Scrapy）<a target="_blank" rel="noopener" href="https://www.icourse163.org/course/BIT-1001870002?tid=1462344444">Python数据分析与展示，北京理工大学，中国大学MOOC(慕课) (icourse163.org)</a></p>
<p>进阶：<strong>建议不如直接看这个</strong>，讲得更细节，用的pycharm，东北老师，讲课老精神了（直接看p51-104，对于基础，补充了Urllib、解析（xpath、jsonpath）、selenium）<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Db4y1m7Ho?p=71">尚硅谷Python爬虫教程小白零基础速通（含python基础+爬虫案例），哔哩哔哩，bilibili</a></p>
</blockquote>
<h1 id="获取"><a href="#获取" class="headerlink" title="获取"></a>获取</h1><h2 id="urllib"><a href="#urllib" class="headerlink" title="urllib"></a>urllib</h2><p><img src="http://r6x04xz01.hd-bkt.clouddn.com/image-20220208160917249.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<ul>
<li>get</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#urllib.parse.quote()</span><br><span class="hljs-keyword">import</span> urllib.request<br><span class="hljs-keyword">import</span> urllib.parse<br>url = <span class="hljs-string">&#x27;https://www.baidu.com/s?wd=&#x27;</span><br>headers = &#123;<br>	<span class="hljs-string">&#x27;User‐Agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36&#x27;</span><br>&#125;<br>url = url + urllib.parse.quote(<span class="hljs-string">&#x27;小野&#x27;</span>)<br>request = urllib.request.Request(url=url,headers=headers)<br>response = urllib.request.urlopen(request)<br><span class="hljs-built_in">print</span>(response.read().decode(<span class="hljs-string">&#x27;utf‐8&#x27;</span>))<br><br><span class="hljs-comment">#urllib.parse.urlencode（）</span><br><span class="hljs-keyword">import</span> urllib.request<br><span class="hljs-keyword">import</span> urllib.parse<br>url = <span class="hljs-string">&#x27;http://www.baidu.com/s?&#x27;</span><br>data = &#123;<br>	<span class="hljs-string">&#x27;name&#x27;</span>:<span class="hljs-string">&#x27;小刚&#x27;</span>, <span class="hljs-string">&#x27;sex&#x27;</span>:<span class="hljs-string">&#x27;男&#x27;</span>,<br>&#125;<br>data = urllib.parse.urlencode(data)<br>url = url + data<br><span class="hljs-built_in">print</span>(url)<br>headers = &#123;<br>	<span class="hljs-string">&#x27;User‐Agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36&#x27;</span><br>&#125;<br>request = urllib.request.Request(url=url,headers=headers)<br></code></pre></td></tr></table></figure>
<ul>
<li>post</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> urllib.request<br><span class="hljs-keyword">import</span> urllib.parse<br>url = <span class="hljs-string">&#x27;https://fanyi.baidu.com/sug&#x27;</span><br>headers = &#123;<br>    <span class="hljs-string">&#x27;user‐agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36&#x27;</span><br>&#125;<br>keyword = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;请输入您要查询的单词&#x27;</span>)<br>data = &#123;<br>	<span class="hljs-string">&#x27;kw&#x27;</span>:keyword<br>&#125;<br>data = urllib.parse.urlencode(data).encode(<span class="hljs-string">&#x27;utf‐8&#x27;</span>)<br>request = urllib.request.Request(url=url,headers=headers,data=data)<br>response = urllib.request.urlopen(request)<br><span class="hljs-built_in">print</span>(response.read().decode(<span class="hljs-string">&#x27;utf‐8&#x27;</span>))<br><br><span class="hljs-keyword">import</span> json<br><span class="hljs-comment"># loads将字符串转换为python对象</span><br>obj = json.loads(content)<br><span class="hljs-comment"># python对象转换为json字符串 ensure_ascii=False 忽略字符集编码</span><br>s = json.dumps(obj,ensure_ascii=<span class="hljs-literal">False</span>)<br><span class="hljs-built_in">print</span>(s)<br></code></pre></td></tr></table></figure>
<ul>
<li>ajax的get请求(前后端分离的情况,可以拿到json)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 爬取豆瓣电影前10页数据</span><br><span class="hljs-comment"># https://movie.douban.com/j/chart/top_list?type=20&amp;interval_id=100%3A90&amp;action=&amp;start=0&amp;limit=20</span><br><br><span class="hljs-keyword">import</span> urllib.request<br><span class="hljs-keyword">import</span> urllib.parse<br><br><span class="hljs-comment"># 下载前10页数据</span><br><span class="hljs-comment"># 下载的步骤：1.请求对象的定制 2.获取响应的数据 3.下载</span><br><span class="hljs-comment"># 每执行一次返回一个request对象</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_request</span>(<span class="hljs-params">page</span>):</span><br>	base_url = <span class="hljs-string">&#x27;https://movie.douban.com/j/chart/top_list?type=20&amp;interval_id=100%3A90&amp;action=&amp;&#x27;</span><br>	headers = &#123;<br>	<span class="hljs-string">&#x27;User‐Agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36&#x27;</span><br>	&#125;<br>    data=&#123;<br>        <span class="hljs-string">&#x27;start&#x27;</span>:(page‐<span class="hljs-number">1</span>)*<span class="hljs-number">20</span>,<br>        <span class="hljs-string">&#x27;limit&#x27;</span>:<span class="hljs-number">20</span><br>    &#125;<br>    <span class="hljs-comment"># data编码</span><br>    data = urllib.parse.urlencode(data)<br>    url = base_url + data<br>    request = urllib.request.Request(url=url,headers=headers)<br>    <span class="hljs-keyword">return</span> request<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_content</span>(<span class="hljs-params">request</span>):</span><br>    response = urllib.request.urlopen(request)<br>    content = response.read().decode(<span class="hljs-string">&#x27;utf‐8&#x27;</span>)<br>    <span class="hljs-keyword">return</span> content<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">down_load</span>(<span class="hljs-params">page,content</span>):</span><br>    <span class="hljs-comment"># with open（文件的名字，模式，编码）as fp:</span><br>    <span class="hljs-comment"># fp.write(内容)</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;douban_&#x27;</span>+<span class="hljs-built_in">str</span>(page)+<span class="hljs-string">&#x27;.json&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>,encoding=<span class="hljs-string">&#x27;utf‐8&#x27;</span>)<span class="hljs-keyword">as</span> fp:<br>    fp.write(content)<br>    <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    start_page = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;请输入起始页码&#x27;</span>))<br>    end_page = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;请输入结束页码&#x27;</span>))<br>    <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(start_page,end_page+<span class="hljs-number">1</span>):<br>    request = create_request(page)<br>    content = get_content(request)<br>    down_load(page,content)<br></code></pre></td></tr></table></figure>
<ul>
<li><p>异常错误</p>
<ol>
<li>HTTPError类是URLError类的子类</li>
<li>导入的包urllib.error.HTTPError urllib.error.URLError</li>
<li>http错误：http错误是针对浏览器无法连接到服务器而增加出来的错误提示。引导并告诉浏览者该页是哪里出 了问题。</li>
<li>通过urllib发送请求的时候，有可能会发送失败，这个时候如果想让你的代码更加的健壮，可以通过try‐ except进行捕获异常，异常有两类，URLError\HTTPError</li>
</ol>
</li>
<li><p>cookie登录</p>
<ol>
<li>cookie 跳过登录</li>
<li>refer 防盗链</li>
</ol>
</li>
<li>handle 定制更高级的请求头（随着业务逻辑的复杂 请求对象的定制已经满足不了我们的需求（动态cookie和代理 不能使用请求对象的定制）</li>
<li>代理服务器（突破自身IP访问限制，访问国外站点。访问一些单位或团体内部资源。提高访问速度。隐藏真实IP）(代理池\快代理)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> urllib.request<br>url = <span class="hljs-string">&#x27;http://www.baidu.com/s?wd=ip&#x27;</span><br>headers = &#123;<br>	<span class="hljs-string">&#x27;User ‐ Agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla / 5.0(Windows NT 10.0;Win64;x64) AppleWebKit / 537.36(KHTML, like Gecko) Chrome / 74.0.3729.169Safari / 537.36&#x27;</span><br>&#125;<br>request = urllib.request.Request(url=url,headers=headers)<br>proxies = &#123;<span class="hljs-string">&#x27;http&#x27;</span>:<span class="hljs-string">&#x27;117.141.155.244:53281&#x27;</span>&#125;<br>handler = urllib.request.ProxyHandler(proxies=proxies)<br>opener = urllib.request.build_opener(handler)<br>response = opener.<span class="hljs-built_in">open</span>(request)<br>content = response.read().decode(<span class="hljs-string">&#x27;utf‐8&#x27;</span>)<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;daili.html&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>,encoding=<span class="hljs-string">&#x27;utf‐8&#x27;</span>)<span class="hljs-keyword">as</span> fp:<br>	fp.write(content)<br></code></pre></td></tr></table></figure>
<h2 id="requests"><a href="#requests" class="headerlink" title="requests"></a>requests</h2><p><img src="https://s2.loli.net/2022/02/06/y4Jae2OriWfUgDK.png" srcset="/img/loading.gif" lazyload style="zoom: 67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/XaKJYEPZCgIF7qR.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/nldsfZD1eJ8hcHK.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/6VxtmPieTaAk3N4.png" srcset="/img/loading.gif" lazyload  style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/yS4AEgRn5IFNmhC.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/Yr1KXAeq7HjnpSW.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/bV8Iwk7qiHZMKvR.png" srcset="/img/loading.gif" lazyload  style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/yQjRklAz4Sq8GVU.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<ul>
<li>代理</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">proxy = &#123;<span class="hljs-string">&#x27;http&#x27;</span>:<span class="hljs-string">&#x27;219.149.59.250:9797&#x27;</span>&#125;<br>r = requests.get(url=url,params=data,headers=headers,proxies=proxy)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getHTMLText</span>(<span class="hljs-params">url</span>):</span><br>    <span class="hljs-keyword">try</span>:<br>        r=requests.get(url, timeout=<span class="hljs-number">30</span>)<br>        r.raise_for_status()<br>        <span class="hljs-comment">#如果状态不是200，引发HTTPError异常</span><br>        r.encoding=r.apparent_encoding<br>        <span class="hljs-keyword">return</span> r.text<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;产生异常&quot;</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    url = <span class="hljs-string">&quot;http://www.baidu.com&quot;</span><br><span class="hljs-built_in">print</span>(getHTMLText(url))<br><br><span class="hljs-comment">#实例2：亚马逊商品页面的爬取</span><br><span class="hljs-keyword">import</span> requests<br>url = <span class="hljs-string">&quot;https://www.amazon.cn/gp/product/B01M8L5Z3Y&quot;</span><br><span class="hljs-keyword">try</span>:<br>    kv = &#123;<span class="hljs-string">&#x27;user-agent&#x27;</span>:<span class="hljs-string">&#x27;Mozilla/5.0&#x27;</span>&#125;<br>    r = requests.get(url, headers=kv)<br>    r.raise_for_status()<br>    r.encoding = r.apparent_encoding<br>    <span class="hljs-built_in">print</span>(r.text[<span class="hljs-number">1000</span>:<span class="hljs-number">2000</span>])<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;爬取失败&quot;</span>)<br><br><span class="hljs-comment">#实例3：百度/360搜索关键字提交</span><br><span class="hljs-keyword">import</span> requests<br>keyword = <span class="hljs-string">&quot;Python&quot;</span><br>url =<span class="hljs-string">&#x27;http://www.baidu.com/s&#x27;</span><br><span class="hljs-keyword">try</span>:<br>    kv = &#123;<span class="hljs-string">&#x27;wd&#x27;</span>: <span class="hljs-string">&#x27;keyword&#x27;</span>&#125;<br>    r = requests.get(url, params=kv)<br>    <span class="hljs-built_in">print</span>(r.status_code)<br>    <span class="hljs-built_in">print</span>(r.request.url)<br>    r.raise_for_status()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(r.text))<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;爬取失败&quot;</span>)<br>    <br><span class="hljs-comment">#网络图片的爬取和存储</span><br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> os<br>url = <span class="hljs-string">&quot;http://xwzx.cumt.edu.cn/_upload/article/images/2f/99/d44299934d00afe8f03684d5c59b/f682d3bc-972c-4d5a-9542-c52e0b72032f.jpg&quot;</span><br>root = <span class="hljs-string">&quot;D://pics//&quot;</span><br>path = root + url.split(<span class="hljs-string">&#x27;/&#x27;</span>)[-<span class="hljs-number">1</span>]<br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(root):<br>        os.mkdir(root)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(path):<br>        r = requests.get(url)<br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(path, <span class="hljs-string">&#x27;wb&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>            f.write(r.content)<br>            f.close()<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;文件保存成功&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;文件已存在&quot;</span>)<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;爬取失败&quot;</span>)<br><br><span class="hljs-comment">#实例5：IP地址归属地的自动查询</span><br><span class="hljs-keyword">import</span> requests<br>url = <span class="hljs-string">&quot;https://ipchaxun.com/&quot;</span><br><span class="hljs-keyword">try</span>:<br>    r = requests.get(url+<span class="hljs-string">&#x27;202.204.80.112&#x27;</span>)<br>    r.raise_for_status()<br>    r.encoding = r.apparent_encoding<br>    <span class="hljs-built_in">print</span>(r.text[-<span class="hljs-number">500</span>:])<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;爬取失败&quot;</span>)<br></code></pre></td></tr></table></figure>
<h1 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h1><h2 id="xpath"><a href="#xpath" class="headerlink" title="xpath"></a>xpath</h2><ul>
<li><p>xpath基本语法</p>
<ol>
<li><p>路径查询</p>
<p> //：查找所有子孙节点，不考虑层级关系 </p>
<p>/ ：找直接子节点</p>
</li>
<li><p>谓词查询 </p>
<p>//div[@id]</p>
<p> //div[@id=”maincontent”] </p>
</li>
<li><p>属性查询</p>
<p> //@class </p>
</li>
<li><p>模糊查询 </p>
<p>//div[contains(@id, “he”)]</p>
<p> //div[starts‐with(@id, “he”)]</p>
</li>
<li><p>内容查询 </p>
<p>//div/h1/text()</p>
</li>
<li><p>逻辑运算 </p>
<p>//div[@id=”head” and @class=”s_down”]</p>
<p>//title | //price （其实这是列表的用法）</p>
</li>
</ol>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> lxml <span class="hljs-keyword">import</span> etree<br><span class="hljs-comment">#解析本地文件</span><br>html_tree = etree.parse(<span class="hljs-string">&#x27;XX.html&#x27;</span>)<br><span class="hljs-comment">#服务器响应文件</span><br>html_tree = etree.HTML(response.read().decode(<span class="hljs-string">&#x27;utf‐8&#x27;</span>)<br>html_tree.xpath([xpath路径])<br></code></pre></td></tr></table></figure>
<h2 id="jsonpath"><a href="#jsonpath" class="headerlink" title="jsonpath"></a>jsonpath</h2><p>教程连接（<a target="_blank" rel="noopener" href="http://blog.csdn.net/luxideyao/article/details/77802389）">http://blog.csdn.net/luxideyao/article/details/77802389）</a></p>
<h2 id="Beautiful-Soup"><a href="#Beautiful-Soup" class="headerlink" title="Beautiful Soup"></a>Beautiful Soup</h2><p><img src="https://s2.loli.net/2022/02/06/Kkmhg8qZSUITBGQ.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/K5LNoJG2VsDctzB.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/hfmyXuoV5dTLl8Q.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/JtE7syTib1vWk6P.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#CrawUnivRanking.py</span><br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">import</span> bs4<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getHTMLText</span>(<span class="hljs-params">url</span>):</span><br>    <span class="hljs-keyword">try</span>:<br>        r = requests.get(url, timeout=<span class="hljs-number">30</span>)<br>        r.raise_for_status()<br>        r.encoding = r.apparent_encoding<br>        <span class="hljs-keyword">return</span> r.text<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fillUnivList</span>(<span class="hljs-params">ulist, html</span>):</span><br>    soup = BeautifulSoup(html, <span class="hljs-string">&quot;html.parser&quot;</span>)<br>    <span class="hljs-keyword">for</span> tr <span class="hljs-keyword">in</span> soup.find(<span class="hljs-string">&#x27;tbody&#x27;</span>).children:<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(tr, bs4.element.Tag):<br>            tds = tr(<span class="hljs-string">&#x27;td&#x27;</span>)<br>            ulist.append([tds[<span class="hljs-number">0</span>].string, tds[<span class="hljs-number">1</span>].string, tds[<span class="hljs-number">3</span>].string])<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">printUnivList</span>(<span class="hljs-params">ulist, num</span>):</span><br>    tplt = <span class="hljs-string">&quot;&#123;0:^10&#125;\t&#123;1:&#123;3&#125;^10&#125;\t&#123;2:^10&#125;&quot;</span><br>    <span class="hljs-built_in">print</span>(tplt.<span class="hljs-built_in">format</span>(<span class="hljs-string">&quot;排名&quot;</span>,<span class="hljs-string">&quot;学校名称&quot;</span>,<span class="hljs-string">&quot;总分&quot;</span>,<span class="hljs-built_in">chr</span>(<span class="hljs-number">12288</span>)))<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(num):<br>        u=ulist[i]<br>        <span class="hljs-built_in">print</span>(tplt.<span class="hljs-built_in">format</span>(u[<span class="hljs-number">0</span>],u[<span class="hljs-number">1</span>],u[<span class="hljs-number">2</span>],<span class="hljs-built_in">chr</span>(<span class="hljs-number">12288</span>)))<br>    <br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><br>    uinfo = []<br>    url = <span class="hljs-string">&#x27;https://www.zuihaodaxue.cn/zuihaodaxuepaiming2016.html&#x27;</span><br>    html = getHTMLText(url)<br>    fillUnivList(uinfo, html)<br>    printUnivList(uinfo, <span class="hljs-number">20</span>) <span class="hljs-comment"># 20 univs</span><br>main()<br></code></pre></td></tr></table></figure>
<h2 id="Re"><a href="#Re" class="headerlink" title="Re"></a>Re</h2><p><img src="https://s2.loli.net/2022/02/06/b8H5g6Lv7VCXxGn.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/5CEwfnGBL73dSpc.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/inYpyLteGKQoIBR.png" srcset="/img/loading.gif" lazyload  style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/I9y6UAKVsu5BCZo.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/FKyVemjPzCSbTO7.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/RGWbYF29I8Ljkqf.png" srcset="/img/loading.gif" lazyload  style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/4Rapl59VjyGEFUh.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="https://s2.loli.net/2022/02/06/Ob9xqz2kFimZGRL.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#CrowTaobaoPrice.py</span><br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> re<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getHTMLText</span>(<span class="hljs-params">url</span>):</span><br>    <span class="hljs-keyword">try</span>:<br>        kv = \<br>            &#123;<br>                <span class="hljs-string">&#x27;user-agent&#x27;</span>:<span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36 Edg/97.0.1072.76&#x27;</span>,<br>                <span class="hljs-string">&#x27;Cookie&#x27;</span>:<span class="hljs-string">&#x27;【去审查元素自己看看】&#x27;</span><br>            &#125;<br>        r = requests.get(url, timeout=<span class="hljs-number">30</span>, headers=kv)<br>        r.raise_for_status()<br>        r.encoding = r.apparent_encoding<br>        <span class="hljs-keyword">return</span> r.text<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;getHTMLText&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span><br>    <br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parsePage</span>(<span class="hljs-params">ilt, html</span>):</span><br>    <span class="hljs-keyword">try</span>:<br>        plt = re.findall(<span class="hljs-string">r&#x27;\&quot;view_price\&quot;\:\&quot;[\d\.]*\&quot;&#x27;</span>,html)<br>        tlt = re.findall(<span class="hljs-string">r&#x27;\&quot;raw_title\&quot;\:\&quot;.*?\&quot;&#x27;</span>,html)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(plt)):<br>            price = <span class="hljs-built_in">eval</span>(plt[i].split(<span class="hljs-string">&#x27;:&#x27;</span>)[<span class="hljs-number">1</span>])<br>            title = <span class="hljs-built_in">eval</span>(tlt[i].split(<span class="hljs-string">&#x27;:&#x27;</span>)[<span class="hljs-number">1</span>])<br>            ilt.append([price , title])<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;parsePage&quot;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">printGoodsList</span>(<span class="hljs-params">ilt</span>):</span><br>    tplt = <span class="hljs-string">&quot;&#123;:4&#125;\t&#123;:8&#125;\t&#123;:16&#125;&quot;</span><br>    <span class="hljs-built_in">print</span>(tplt.<span class="hljs-built_in">format</span>(<span class="hljs-string">&quot;序号&quot;</span>, <span class="hljs-string">&quot;价格&quot;</span>, <span class="hljs-string">&quot;商品名称&quot;</span>))<br>    count = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> g <span class="hljs-keyword">in</span> ilt:<br>        count = count + <span class="hljs-number">1</span><br>        <span class="hljs-built_in">print</span>(tplt.<span class="hljs-built_in">format</span>(count, g[<span class="hljs-number">0</span>], g[<span class="hljs-number">1</span>]))<br>        <br>goods = <span class="hljs-string">&#x27;书包&#x27;</span><br>depth = <span class="hljs-number">3</span><br>start_url = <span class="hljs-string">&#x27;https://s.taobao.com/search?q=&#x27;</span> + goods<br>infoList = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(depth):<br>    <span class="hljs-keyword">try</span>:<br>        url = start_url + <span class="hljs-string">&#x27;&amp;s=&#x27;</span> + <span class="hljs-built_in">str</span>(<span class="hljs-number">44</span>*i)<br>        html = getHTMLText(url)<br>        parsePage(infoList, html)<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-keyword">continue</span><br>printGoodsList(infoList)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#CrawBaiduStocksB.py</span><br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">import</span> traceback<br><span class="hljs-keyword">import</span> re<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getHTMLText</span>(<span class="hljs-params">url, code=<span class="hljs-string">&quot;utf-8&quot;</span></span>):</span><br>    <span class="hljs-keyword">try</span>:<br>        r = requests.get(url)<br>        r.raise_for_status()<br>        r.encoding = code<br>        <span class="hljs-keyword">return</span> r.text<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getStockList</span>(<span class="hljs-params">lst, stockURL</span>):</span><br>    html = getHTMLText(stockURL, <span class="hljs-string">&quot;GB2312&quot;</span>)<br>    soup = BeautifulSoup(html, <span class="hljs-string">&#x27;html.parser&#x27;</span>) <br>    a = soup.find_all(<span class="hljs-string">&#x27;a&#x27;</span>)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> a:<br>        <span class="hljs-keyword">try</span>:<br>            href = i.attrs[<span class="hljs-string">&#x27;href&#x27;</span>]<br>            lst.append(re.findall(<span class="hljs-string">r&quot;[s][hz]\d&#123;6&#125;&quot;</span>, href)[<span class="hljs-number">0</span>])<br>        <span class="hljs-keyword">except</span>:<br>            <span class="hljs-keyword">continue</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getStockInfo</span>(<span class="hljs-params">lst, stockURL, fpath</span>):</span><br>    count = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> stock <span class="hljs-keyword">in</span> lst:<br>        url = stockURL + stock + <span class="hljs-string">&quot;.html&quot;</span><br>        html = getHTMLText(url)<br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-keyword">if</span> html==<span class="hljs-string">&quot;&quot;</span>:<br>                <span class="hljs-keyword">continue</span><br>            infoDict = &#123;&#125;<br>            soup = BeautifulSoup(html, <span class="hljs-string">&#x27;html.parser&#x27;</span>)<br>            stockInfo = soup.find(<span class="hljs-string">&#x27;div&#x27;</span>,attrs=&#123;<span class="hljs-string">&#x27;class&#x27;</span>:<span class="hljs-string">&#x27;stock-bets&#x27;</span>&#125;)<br><br>            name = stockInfo.find_all(attrs=&#123;<span class="hljs-string">&#x27;class&#x27;</span>:<span class="hljs-string">&#x27;bets-name&#x27;</span>&#125;)[<span class="hljs-number">0</span>]<br>            infoDict.update(&#123;<span class="hljs-string">&#x27;股票名称&#x27;</span>: name.text.split()[<span class="hljs-number">0</span>]&#125;)<br>            <br>            keyList = stockInfo.find_all(<span class="hljs-string">&#x27;dt&#x27;</span>)<br>            valueList = stockInfo.find_all(<span class="hljs-string">&#x27;dd&#x27;</span>)<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(keyList)):<br>                key = keyList[i].text<br>                val = valueList[i].text<br>                infoDict[key] = val<br>            <br>            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(fpath, <span class="hljs-string">&#x27;a&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>                f.write( <span class="hljs-built_in">str</span>(infoDict) + <span class="hljs-string">&#x27;\n&#x27;</span> )<br>                count = count + <span class="hljs-number">1</span><br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\r当前进度: &#123;:.2f&#125;%&quot;</span>.<span class="hljs-built_in">format</span>(count*<span class="hljs-number">100</span>/<span class="hljs-built_in">len</span>(lst)),end=<span class="hljs-string">&quot;&quot;</span>)<br>        <span class="hljs-keyword">except</span>:<br>            count = count + <span class="hljs-number">1</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\r当前进度: &#123;:.2f&#125;%&quot;</span>.<span class="hljs-built_in">format</span>(count*<span class="hljs-number">100</span>/<span class="hljs-built_in">len</span>(lst)),end=<span class="hljs-string">&quot;&quot;</span>)<br>            <span class="hljs-keyword">continue</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><br>    stock_list_url = <span class="hljs-string">&#x27;https://quote.eastmoney.com/stocklist.html&#x27;</span><br>    stock_info_url = <span class="hljs-string">&#x27;https://gupiao.baidu.com/stock/&#x27;</span><br>    output_file = <span class="hljs-string">&#x27;D:/BaiduStockInfo.txt&#x27;</span><br>    slist=[]<br>    getStockList(slist, stock_list_url)<br>    getStockInfo(slist, stock_info_url, output_file)<br><br>main()<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/jzj_c_love/article/details/104093877">python爬取淘宝商品信息&amp;requests.get()和网页源代码不一致_jzj_c_love的博客-CSDN博客</a></p>
<h1 id="Selenium"><a href="#Selenium" class="headerlink" title="Selenium"></a>Selenium</h1><ul>
<li><p>selenium的使用步骤？</p>
<ol>
<li>导入：from selenium import webdriver</li>
<li>创建谷歌浏览器操作对象： path = 谷歌浏览器驱动文件路径 browser = webdriver.Chrome(path) </li>
<li>访问网址 url = 要访问的网址 browser.get(url)</li>
</ol>
</li>
<li><p>selenium的元素定位 find_element</p>
</li>
<li><p>访问元素信息</p>
<p>获取元素属性 .get_attribute(‘class’) </p>
<p>获取元素文本 .text </p>
<p>获取标签名 .tag_name</p>
</li>
<li><p>交互</p>
<p>点击:click() </p>
<p>输入:send_keys()</p>
<p> 后退操作:browser.back() </p>
<p>前进操作:browser.forword()</p>
<p>模拟JS滚动: js=’document.documentElement.scrollTop=100000’ browser.execute_script(js) </p>
<p>执行js代码 获取网页代码：page_source </p>
<p>退出：browser.quit()</p>
</li>
<li><p>Chrome handless</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-comment">#这个是浏览器自带的 不需要我们再做额外的操作</span><br><span class="hljs-keyword">from</span> selenium.webdriver.chrome.options <span class="hljs-keyword">import</span> Options<br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">share_browser</span>():</span><br>    <span class="hljs-comment">#初始化</span><br>    chrome_options = Options()<br>    chrome_options.add_argument(<span class="hljs-string">&#x27;‐‐headless&#x27;</span>)<br>    chrome_options.add_argument(<span class="hljs-string">&#x27;‐‐disable‐gpu&#x27;</span>)<br>    <span class="hljs-comment">#浏览器的安装路径 打开文件位置</span><br>    <span class="hljs-comment">#这个路径是你谷歌浏览器的路径</span><br>    path = <span class="hljs-string">r&#x27;[---]&#x27;</span><br>    chrome_options.binary_location = path<br>    browser = webdriver.Chrome(chrome_options=chrome_options)<br>    <span class="hljs-keyword">return</span> browser<br><br><span class="hljs-comment">#封装调用：</span><br><span class="hljs-keyword">from</span> handless <span class="hljs-keyword">import</span> share_browser<br>browser = share_browser()<br>browser.get(<span class="hljs-string">&#x27;http://www.baidu.com/&#x27;</span>)<br>browser.save_screenshot(<span class="hljs-string">&#x27;handless1.png&#x27;</span>)<br></code></pre></td></tr></table></figure>
<h1 id="Scrapy"><a href="#Scrapy" class="headerlink" title="Scrapy"></a>Scrapy</h1><p><img src="http://r6x04xz01.hd-bkt.clouddn.com/image-20220207162133107.png" srcset="/img/loading.gif" lazyload  style="zoom:67%;" /></p>
<p><img src="http://r6x04xz01.hd-bkt.clouddn.com/image-20220207162218001.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="http://r6x04xz01.hd-bkt.clouddn.com/image-20220207165234066.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="http://r6x04xz01.hd-bkt.clouddn.com/image-20220207165852697.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<p><img src="http://r6x04xz01.hd-bkt.clouddn.com/image-20220209014418171.png" srcset="/img/loading.gif" lazyload style="zoom:67%;" /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#dang.py</span><br><span class="hljs-keyword">import</span> scrapy<br><span class="hljs-keyword">from</span> scrapy_dangdang_095.items <span class="hljs-keyword">import</span> ScrapyDangdang095Item<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DangSpider</span>(<span class="hljs-params">scrapy.Spider</span>):</span><br>    name = <span class="hljs-string">&#x27;dang&#x27;</span><br>    <span class="hljs-comment"># 如果是多页下载的话 那么必须要调整的是allowed_domains的范围 一般情况下只写域名</span><br>    allowed_domains = [<span class="hljs-string">&#x27;category.dangdang.com&#x27;</span>]<br>    start_urls = [<span class="hljs-string">&#x27;http://category.dangdang.com/cp01.01.02.00.00.00.html&#x27;</span>]<br>    base_url = <span class="hljs-string">&#x27;http://category.dangdang.com/pg&#x27;</span><br>    page = <span class="hljs-number">1</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse</span>(<span class="hljs-params">self, response</span>):</span><br><span class="hljs-comment">#       pipelines 下载数据</span><br><span class="hljs-comment">#       items     定义数据结构的</span><br><span class="hljs-comment">#         src = //ul[@id=&quot;component_59&quot;]/li//img/@src</span><br><span class="hljs-comment">#         alt = //ul[@id=&quot;component_59&quot;]/li//img/@alt</span><br><span class="hljs-comment">#         price = //ul[@id=&quot;component_59&quot;]/li//p[@class=&quot;price&quot;]/span[1]/text()</span><br><span class="hljs-comment">#         所有的seletor的对象 都可以再次调用xpath方法</span><br>        li_list = response.xpath(<span class="hljs-string">&#x27;//ul[@id=&quot;component_59&quot;]/li&#x27;</span>)<br><br>        <span class="hljs-keyword">for</span> li <span class="hljs-keyword">in</span> li_list:<br>            src = li.xpath(<span class="hljs-string">&#x27;.//img/@data-original&#x27;</span>).extract_first()<br>            <span class="hljs-comment"># 第一张图片和其他的图片的标签的属性是不一样的</span><br>            <span class="hljs-comment"># 第一张图片的src是可以使用的  其他的图片的地址是data-original</span><br>            <span class="hljs-keyword">if</span> src:<br>                src = src<br>            <span class="hljs-keyword">else</span>:<br>                src = li.xpath(<span class="hljs-string">&#x27;.//img/@src&#x27;</span>).extract_first()<br><br>            name = li.xpath(<span class="hljs-string">&#x27;.//img/@alt&#x27;</span>).extract_first()<br>            price = li.xpath(<span class="hljs-string">&#x27;.//p[@class=&quot;price&quot;]/span[1]/text()&#x27;</span>).extract_first()<br><br>            book = ScrapyDangdang095Item(src=src,name=name,price=price)<br><br>            <span class="hljs-comment"># 获取一个book就将book交给pipelines</span><br>            <span class="hljs-keyword">yield</span> book<br><br><br><span class="hljs-comment">#       每一页的爬取的业务逻辑全都是一样的，所以我们只需要将执行的那个页的请求再次调用parse方法就可以了</span><br>        <span class="hljs-keyword">if</span> self.page &lt; <span class="hljs-number">100</span>:<br>            self.page = self.page + <span class="hljs-number">1</span><br>            url = self.base_url + <span class="hljs-built_in">str</span>(self.page) + <span class="hljs-string">&#x27;-cp01.01.02.00.00.00.html&#x27;</span><br><br><span class="hljs-comment">#             怎么去调用parse方法</span><br><span class="hljs-comment">#             scrapy.Request就是scrpay的get请求</span><br><span class="hljs-comment">#             url就是请求地址</span><br><span class="hljs-comment">#             callback是你要执行的那个函数  注意不需要加（）</span><br>            <span class="hljs-keyword">yield</span> scrapy.Request(url=url,callback=self.parse)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#items.py</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ScrapyDangdang095Item</span>(<span class="hljs-params">scrapy.Item</span>):</span><br>    <span class="hljs-comment"># name = scrapy.Field()</span><br>    <span class="hljs-comment"># 通俗的说就是你要下载的数据都有什么</span><br>    src = scrapy.Field()<br>    name = scrapy.Field()<br>    price = scrapy.Field()<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#pipelines.py</span><br><span class="hljs-keyword">from</span> itemadapter <span class="hljs-keyword">import</span> ItemAdapter<br><br><span class="hljs-comment"># 如果想使用管道的话 那么就必须在settings中开启管道</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ScrapyDangdang095Pipeline</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">open_spider</span>(<span class="hljs-params">self,spider</span>):</span><br>        self.fp = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;book.json&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>,encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>        <br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_item</span>(<span class="hljs-params">self, item, spider</span>):</span><br>        self.fp.write(<span class="hljs-built_in">str</span>(item))<br>        <span class="hljs-keyword">return</span> item<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">close_spider</span>(<span class="hljs-params">self,spider</span>):</span><br>        self.fp.close()<br><br><span class="hljs-keyword">import</span> urllib.request<br><br><span class="hljs-comment"># 多条管道开启</span><br><span class="hljs-comment"># 定义管道类 + 在settings中开启管道</span><br><span class="hljs-comment">#&#x27;scrapy_dangdang_095.pipelines.DangDangDownloadPipeline&#x27;:301</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DangDangDownloadPipeline</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_item</span>(<span class="hljs-params">self, item, spider</span>):</span><br>        url = <span class="hljs-string">&#x27;http:&#x27;</span> + item.get(<span class="hljs-string">&#x27;src&#x27;</span>)<br>        filename = <span class="hljs-string">&#x27;./books/&#x27;</span> + item.get(<span class="hljs-string">&#x27;name&#x27;</span>) + <span class="hljs-string">&#x27;.jpg&#x27;</span><br>        urllib.request.urlretrieve(url = url, filename= filename)<br>        <span class="hljs-keyword">return</span> item<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#settings.py文件中被修改</span><br>ITEM_PIPELINES = &#123;<br>    <span class="hljs-comment">#  管道可以有很多个  那么管道是有优先级的  优先级的范围是1到1000   值越小优先级越高</span><br>    <span class="hljs-string">&#x27;scrapy_dangdang_095.pipelines.ScrapyDangdang095Pipeline&#x27;</span>: <span class="hljs-number">300</span>,<br>    <span class="hljs-comment">#DangDangDownloadPipeline</span><br>    <span class="hljs-string">&#x27;scrapy_dangdang_095.pipelines.DangDangDownloadPipeline&#x27;</span>:<span class="hljs-number">301</span><br>&#125;<br></code></pre></td></tr></table></figure>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E8%AF%BE%E5%A4%96%E5%AD%A6%E4%B9%A0/">课外学习</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Python/">Python</a>
                    
                      <a class="hover-with-bg" href="/tags/%E7%88%AC%E8%99%AB/">爬虫</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/02/09/%E3%80%8APython%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA%E3%80%8B%E7%AC%94%E8%AE%B0/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Python数据分析与展示</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/01/10/%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E3%80%8B%E7%AC%94%E8%AE%B0/">
                        <span class="hidden-mobile">《软件工程》笔记与结课小结</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="twikoo"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/twikoo@1/dist/twikoo.all.min.js', function() {
        var options = Object.assign(
          {"envId":"https://blog-comment-h866w5ycd-junyaohu.vercel.app/","region":"ap-shanghai","path":"window.location.pathname"},
          {
            el: '#twikoo',
            path: 'window.location.pathname',
            onCommentLoaded: function() {
              Fluid.plugins.initFancyBox('#twikoo .tk-content img:not(.tk-owo-emotion)');
            }
          }
        )
        twikoo.init(options)
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        loader: {
          load: ['ui/lazy']
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" ></script>

  








  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?17340920";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
